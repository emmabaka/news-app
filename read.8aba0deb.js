const t=new class{getNews(){const t=localStorage.getItem(this.KEY);return t?JSON.parse(t):[]}addNews(t){const e=this.getNews();this.hasNews(t)||(e.push(t),localStorage.setItem(this.KEY,JSON.stringify(e)))}hasNews(t){return this.getNews().some((({url:e})=>e===t.url))}removeNews(t){const e=this.getNews();e.forEach(((s,o)=>{s.url===t.url&&e.splice(o,1)})),localStorage.setItem(this.KEY,JSON.stringify(e))}constructor(){this.KEY="FAVORITE_NEWS"}},e=(new class{getNews(){const t=localStorage.getItem(this.KEY);return t?JSON.parse(t):[]}addNews(t){const e=this.getNews();this.hasNews(t)||(e.push(t),localStorage.setItem(this.KEY,JSON.stringify(e)))}hasNews(t){return this.getNews().some((({url:e})=>e===t.url))}constructor(){this.KEY="READ_NEWS"}}).getNews(),s=[...new Set(e.map((t=>t.readDate)))],o=document.querySelector(".accordion");o.innerHTML=s.map((t=>`<div class="container">\n        <div class="accordion-date">${t}\n        <hr />\n            <div class="newsgallery">\n                <ul class="gallery__cards-list"></ul>\n            </div>\n        </div>\n      </div>`)).join("");const r=document.getElementsByClassName("container");document.querySelectorAll(".accordion-date").forEach((s=>{const o=s.innerText;console.log(`Checking for ${o}`),e.map((({readDate:e,src:r,title:n,url:a,info:i,published_date:c,alt:l,section:d})=>{if(e===o){const e='<span>\n                                <svg\n                                    class="item-news__block-icon active-news-icon"\n                                    width="16"\n                                    height="16"\n                                    viewBox="0 0 37 32"\n                                >\n                                    <path\n                                    style="stroke: var(--color1, #4440f7)"\n                                    stroke-linejoin="round"\n                                    stroke-linecap="round"\n                                    stroke-miterlimit="4"\n                                    stroke-width="2.2857"\n                                    d="M10.666 2.286c-4.207 0-7.619 3.377-7.619 7.543 0 3.363 1.333 11.345 14.458 19.413 0.235 0.143 0.505 0.219 0.78 0.219s0.545-0.076 0.78-0.219c13.125-8.069 14.458-16.050 14.458-19.413 0-4.166-3.412-7.543-7.619-7.543s-7.619 4.571-7.619 4.571-3.412-4.571-7.619-4.571z"\n                                    ></path>\n                                </svg>\n                            </span>';let o="",u="";t.hasNews({url:a})?(u="Remove from favorite",o="favorite-button__activ"):(u="Add to favorite",o="add-to-favorite");const h=`<li class="card-photo">\n                            <div class="image-wrapper">\n                                <img class="photo" src="${r}" alt="${l}" loading="lazy" />\n                            </div>\n                            <div class="card-category">${d}</div>\n                            <button type="button" class="${o}">Add to favorite${e}</button>\n                            <h2 class="card-title">${n}</h2>\n                            <p class="card-info">${i}</p>\n                            <span class="card-date">${c}</span>\n                            <a href="${a}" class="card-url">Read more</a>\n                        </li>`;s.querySelector(".gallery__cards-list").insertAdjacentHTML("beforeend",h)}}))}));for(let t=0;t<r.length;t++)r[t].addEventListener("click",(function(){this.classList.toggle("active")}));o.addEventListener("click",(function(e){if("button"!==e.target.tagName.toLowerCase())return;{console.log("Click");const s=e.target.closest("BUTTON");console.log(s);const o=s.closest("li"),r=o.querySelector(".card-title").textContent,n=o.querySelector("img").getAttribute("src"),a=o.querySelector("img").getAttribute("alt"),i=o.querySelector("p").textContent,c=o.querySelector("span").textContent,l=o.querySelector(".card-category").textContent,d=o.querySelector(".card-url").getAttribute("href"),u={src:n,title:r,url:d,info:i,published_date:c,alt:a,section:l};return console.log(u),t.hasNews(u)?(t.removeNews(u),s.classList.replace("favorite-button__activ","add-to-favorite"),s.innerHTML='Add to favorite <svg class=" active-news-icon" width="16" height="16" viewBox="0 0 37 32"><path style="stroke: var(--color1, #4440f7)" stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="4" stroke-width="2.2857" d="M10.666 2.286c-4.207 0-7.619 3.377-7.619 7.543 0 3.363 1.333 11.345 14.458 19.413 0.235 0.143 0.505 0.219 0.78 0.219s0.545-0.076 0.78-0.219c13.125-8.069 14.458-16.050 14.458-19.413 0-4.166-3.412-7.543-7.619-7.543s-7.619 4.571-7.619 4.571-3.412-4.571-7.619-4.571z"></path></svg>'):(t.addNews(u),s.classList.replace("add-to-favorite","favorite-button__activ"),s.innerHTML='Remove from favorite  <svg class="news-icon" width="16" height="16" viewBox="0 0 37 32"><path style="stroke: var(--color1, #4440f7)" stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="4" stroke-width="2.2857" d="M10.666 2.286c-4.207 0-7.619 3.377-7.619 7.543 0 3.363 1.333 11.345 14.458 19.413 0.235 0.143 0.505 0.219 0.78 0.219s0.545-0.076 0.78-0.219c13.125-8.069 14.458-16.050 14.458-19.413 0-4.166-3.412-7.543-7.619-7.543s-7.619 4.571-7.619 4.571-3.412-4.571-7.619-4.571z"></path></svg>'),u}}));
//# sourceMappingURL=read.8aba0deb.js.map
