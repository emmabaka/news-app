const t=new class{getNews(){const t=localStorage.getItem(this.KEY);return t?JSON.parse(t):[]}addNews(t){const e=this.getNews();this.hasNews(t)||(e.push(t),localStorage.setItem(this.KEY,JSON.stringify(e)))}hasNews(t){return this.getNews().some((({url:e})=>e===t.url))}removeNews(t){const e=this.getNews();e.forEach(((s,r)=>{s.url===t.url&&e.splice(r,1)})),localStorage.setItem(this.KEY,JSON.stringify(e))}constructor(){this.KEY="FAVORITE_NEWS"}},e=new class{getNews(){const t=localStorage.getItem(this.KEY);return t?JSON.parse(t):[]}addNews(t){const e=this.getNews();this.hasNews(t)||(e.push(t),localStorage.setItem(this.KEY,JSON.stringify(e)))}hasNews(t){return this.getNews().some((({url:e})=>e===t.url))}constructor(){this.KEY="READ_NEWS"}},s=e.getNews(),r=[...new Set(s.map((t=>t.readDate)))],o=document.querySelector(".accordion");o.innerHTML=r.map((t=>`<div class="accordion-container">\n        <div class="accordion-date">${t}\n        <hr />\n            <div class="newsgallery">\n                <ul class="gallery__cards-list visually-hidden"></ul>\n            </div>\n        </div>\n      </div>`)).join("");document.getElementsByClassName("accordion-container");const a=document.querySelectorAll(".accordion-date");a.forEach((e=>{const r=e.innerText;s.map((({readDate:s,src:o,title:a,url:n,info:i,published_date:c,alt:l,section:d})=>{if(s===r){const s='<span>\n                                <svg\n                                    class="item-news__block-icon active-news-icon"\n                                    width="16"\n                                    height="16"\n                                    viewBox="0 0 37 32"\n                                >\n                                    <path\n                                    style="stroke: var(--color1, #4440f7)"\n                                    stroke-linejoin="round"\n                                    stroke-linecap="round"\n                                    stroke-miterlimit="4"\n                                    stroke-width="2.2857"\n                                    d="M10.666 2.286c-4.207 0-7.619 3.377-7.619 7.543 0 3.363 1.333 11.345 14.458 19.413 0.235 0.143 0.505 0.219 0.78 0.219s0.545-0.076 0.78-0.219c13.125-8.069 14.458-16.050 14.458-19.413 0-4.166-3.412-7.543-7.619-7.543s-7.619 4.571-7.619 4.571-3.412-4.571-7.619-4.571z"\n                                    ></path>\n                                </svg>\n                            </span>';let r="",u="";t.hasNews({url:n})?(u="Remove from favorite",r="favorite-button__activ"):(u="Add to favorite",r="add-to-favorite");const h=`<li class="card-photo">\n                            <div class="image-wrapper">\n                                <img class="photo" src="${o}" alt="${l}" loading="lazy" />\n                            </div>\n                            <div class="card-category">${d}</div>\n                            <button type="button" class="${r}">Add to favorite${s}</button>\n                            <h2 class="card-title">${a}</h2>\n                            <p class="card-info">${i}</p>\n                            <span class="card-date">${c}</span>\n                            <a href="${n}" class="card-url">Read more</a>\n                        </li>`;e.querySelector(".gallery__cards-list").insertAdjacentHTML("beforeend",h)}}))})),document.querySelector(".accordion-date").classList.toggle("active"),document.querySelector(".gallery__cards-list").classList.toggle("visually-hidden");for(let t=0;t<a.length;t++)a[t].addEventListener("click",(function(t){if(t.target!==this)return;this.classList.toggle("active");this.querySelector(".gallery__cards-list").classList.toggle("visually-hidden")}));o.addEventListener("click",(function(e){if("button"!==e.target.tagName.toLowerCase())return;{const s=e.target.closest("BUTTON"),r=s.closest("li"),o=r.querySelector(".card-title").textContent,a=r.querySelector("img").getAttribute("src"),n=r.querySelector("img").getAttribute("alt"),i=r.querySelector("p").textContent,c=r.querySelector("span").textContent,l=r.querySelector(".card-category").textContent,d=r.querySelector(".card-url").getAttribute("href"),u={src:a,title:o,url:d,info:i,published_date:c,alt:n,section:l};return t.hasNews(u)?(t.removeNews(u),s.classList.replace("favorite-button__activ","add-to-favorite"),s.innerHTML='Add to favorite <svg class=" active-news-icon" width="16" height="16" viewBox="0 0 37 32"><path style="stroke: var(--color1, #4440f7)" stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="4" stroke-width="2.2857" d="M10.666 2.286c-4.207 0-7.619 3.377-7.619 7.543 0 3.363 1.333 11.345 14.458 19.413 0.235 0.143 0.505 0.219 0.78 0.219s0.545-0.076 0.78-0.219c13.125-8.069 14.458-16.050 14.458-19.413 0-4.166-3.412-7.543-7.619-7.543s-7.619 4.571-7.619 4.571-3.412-4.571-7.619-4.571z"></path></svg>'):(t.addNews(u),s.classList.replace("add-to-favorite","favorite-button__activ"),s.innerHTML='Remove from favorite  <svg class="news-icon" width="16" height="16" viewBox="0 0 37 32"><path style="stroke: var(--color1, #4440f7)" stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="4" stroke-width="2.2857" d="M10.666 2.286c-4.207 0-7.619 3.377-7.619 7.543 0 3.363 1.333 11.345 14.458 19.413 0.235 0.143 0.505 0.219 0.78 0.219s0.545-0.076 0.78-0.219c13.125-8.069 14.458-16.050 14.458-19.413 0-4.166-3.412-7.543-7.619-7.543s-7.619 4.571-7.619 4.571-3.412-4.571-7.619-4.571z"></path></svg>'),u}}));
//# sourceMappingURL=read.47da558d.js.map
