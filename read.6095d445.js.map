{"mappings":"AAEA,MACMA,GADc,ICoCb,MAKLC,UACE,MAAMC,EAAOC,aAAaC,QAAQC,KAAKC,KACvC,OAAIJ,EACKK,KAAKC,MAAMN,GAEb,E,CAGTO,QAAQC,GACN,MAAMC,EAAMN,KAAKJ,UACbI,KAAKO,QAAQF,KAGjBC,EAAIE,KAAKH,GACTP,aAAaW,QAAQT,KAAKC,IAAKC,KAAKQ,UAAUJ,I,CAGhDC,QAAQF,GACN,OAAOL,KAAKJ,UAAUe,MAAK,EAACC,IAAEA,KAAUA,IAAQP,EAAKO,K,CAtBvDC,cACEb,KAAKC,IAAM,W,IDrCUL,UAmEnBkB,EAAQ,IAAI,IAAIC,IAAIpB,EAAKqB,KAAIC,GAAOA,EAAIC,aAK1BC,SAASC,cAAc,cAmB/BC,UAfKP,EACZE,KAAIM,GACI,gEACyBA,sKAQjCC,KAAK,IAKV,MAAMC,EAAYL,SAASM,uBAAuB,aAC5CC,EAASP,SAASQ,iBAAiB,mBAIzCC,QAAQC,IAAI,UACZD,QAAQC,IAAIlC,GAEZ+B,EAAOI,SAAQC,IACb,MAAMC,EAAkBD,EAAQE,UAChCL,QAAQC,IAAI,gBAAgBG,KAC5BrC,EAAKqB,KACH,EAACE,SAAEA,EAAQgB,IAAEA,EAAGC,MAAEA,EAAKvB,IAAEA,EAAGwB,KAAEA,EAAIC,eAAEA,EAAcC,IAAEA,EAAGC,QAAEA,MAWvD,GAAIrB,IAAac,EAAiB,CAIhC,MAAMQ,EAAS,2GAEaN,WAAaI,oFAENC,mJAEJJ,8CACFC,gDACGC,oCACfzB,yDAECmB,EAAQX,cAAc,wBAE9BqB,mBAAmB,YAAaD,E,IAG/C,IAGH,IAAK,IAAIE,EAAI,EAAGA,EAAIlB,EAAUmB,OAAQD,IACpClB,EAAUkB,GAAGE,iBAAiB,SAAS,WACrC5C,KAAK6C,UAAUC,OAAO,S","sources":["src/js/read-news.js","src/js/localStorage.js"],"sourcesContent":["import { ReadStorage } from './localStorage';\n\nconst readStorage = new ReadStorage();\nconst news = readStorage.getNews();\n\n// News array for test\n// const news = [\n//   {\n//     alt: 'Politics and Government, Speeches and Statements',\n//     info: 'Protests broke out shortly after Prime Minister Benjamin Netanyahu fired the defense minister, who had called for a halt to efforts to weaken the judiciary.',\n//     published_date: '2023-03-26',\n//     readDate: '27/03/2023',\n//     section: 'World',\n//     src: 'https://static01.nyt.com/images/2023/03/26/multimedia/26israel-new-mwcq-promo/26israel-new-mwcq-mediumThreeByTwo440.jpg',\n//     title: 'Israel Boils as Netanyahu Ousts Minister Who Bucked Court Overhaul',\n//     url: 'https://www.nytimes.com/2023/03/26/world/middleeast/judiciary-overhaul-benjamin-netanyahu-israel-parliament.html',\n//   },\n//   {\n//     alt: 'Politics and Government, Speeches and Statements',\n//     info: 'Protests broke out shortly after Prime Minister Benjamin Netanyahu fired the defense minister, who had called for a halt to efforts to weaken the judiciary.',\n//     published_date: '2023-03-26',\n//     readDate: '27/03/2023',\n//     section: 'World',\n//     src: 'https://static01.nyt.com/images/2023/03/26/multimedia/26israel-new-mwcq-promo/26israel-new-mwcq-mediumThreeByTwo440.jpg',\n//     title: 'Israel Boils as Netanyahu Ousts Minister Who Bucked Court Overhaul',\n//     url: 'https://www.nytimes.com/2023/03/26/world/middleeast/judiciary-overhaul-benjamin-netanyahu-israel-parliament.html',\n//   },\n//   {\n//     alt: 'Politics and Government, Speeches and Statements',\n//     info: 'Protests broke out shortly after Prime Minister Benjamin Netanyahu fired the defense minister, who had called for a halt to efforts to weaken the judiciary.',\n//     published_date: '2023-03-26',\n//     readDate: '26/03/2023',\n//     section: 'World',\n//     src: 'https://static01.nyt.com/images/2023/03/26/multimedia/26israel-new-mwcq-promo/26israel-new-mwcq-mediumThreeByTwo440.jpg',\n//     title: 'Israel Boils as Netanyahu Ousts Minister Who Bucked Court Overhaul',\n//     url: 'https://www.nytimes.com/2023/03/26/world/middleeast/judiciary-overhaul-benjamin-netanyahu-israel-parliament.html',\n//   },\n//   {\n//     alt: 'Politics and Government, Speeches and Statements',\n//     info: 'Protests broke out shortly after Prime Minister Benjamin Netanyahu fired the defense minister, who had called for a halt to efforts to weaken the judiciary.',\n//     published_date: '2023-03-26',\n//     readDate: '26/03/2023',\n//     section: 'World',\n//     src: 'https://static01.nyt.com/images/2023/03/26/multimedia/26israel-new-mwcq-promo/26israel-new-mwcq-mediumThreeByTwo440.jpg',\n//     title: 'Israel Boils as Netanyahu Ousts Minister Who Bucked Court Overhaul',\n//     url: 'https://www.nytimes.com/2023/03/26/world/middleeast/judiciary-overhaul-benjamin-netanyahu-israel-parliament.html',\n//   },\n//   {\n//     alt: 'Politics and Government, Speeches and Statements',\n//     info: 'Protests broke out shortly after Prime Minister Benjamin Netanyahu fired the defense minister, who had called for a halt to efforts to weaken the judiciary.',\n//     published_date: '2023-03-26',\n//     readDate: '25/03/2023',\n//     section: 'World',\n//     src: 'https://static01.nyt.com/images/2023/03/26/multimedia/26israel-new-mwcq-promo/26israel-new-mwcq-mediumThreeByTwo440.jpg',\n//     title: 'Israel Boils as Netanyahu Ousts Minister Who Bucked Court Overhaul',\n//     url: 'https://www.nytimes.com/2023/03/26/world/middleeast/judiciary-overhaul-benjamin-netanyahu-israel-parliament.html',\n//   },\n//   {\n//     alt: 'Politics and Government, Speeches and Statements',\n//     info: 'Protests broke out shortly after Prime Minister Benjamin Netanyahu fired the defense minister, who had called for a halt to efforts to weaken the judiciary.',\n//     published_date: '2023-03-26',\n//     readDate: '25/03/2023',\n//     section: 'World',\n//     src: 'https://static01.nyt.com/images/2023/03/26/multimedia/26israel-new-mwcq-promo/26israel-new-mwcq-mediumThreeByTwo440.jpg',\n//     title: 'Israel Boils as Netanyahu Ousts Minister Who Bucked Court Overhaul',\n//     url: 'https://www.nytimes.com/2023/03/26/world/middleeast/judiciary-overhaul-benjamin-netanyahu-israel-parliament.html',\n//   },\n// ];\n\n// Uncomment this\nconst dates = [...new Set(news.map(obj => obj.readDate))];\n\n// Comment this\n// const dates = ['27/03/2023', '26/03/2023', '25/03/2023'];\n\nconst accordionEl = document.querySelector('.accordion');\n// console.log('Dates: ' + dates);\n\nfunction renderAccordion() {\n  const markup = dates\n    .map(date => {\n      return `<div class=\"container\">\n        <div class=\"accordion-date\">${date}\n        <hr />\n            <div class=\"newsgallery\">\n                <ul class=\"gallery__cards-list\"></ul>\n            </div>\n        </div>\n      </div>`;\n    })\n    .join('');\n  return markup;\n}\n\naccordionEl.innerHTML = renderAccordion();\nconst accordion = document.getElementsByClassName('container');\nconst labels = document.querySelectorAll('.accordion-date');\n\n// console.log(labels);\n// { readDate, src, title, url, info, published_date, alt, section }\nconsole.log(`News: `);\nconsole.log(news);\n\nlabels.forEach(element => {\n  const accordionElDate = element.innerText;\n  console.log(`Checking for ${accordionElDate}`);\n  news.map(\n    ({ readDate, src, title, url, info, published_date, alt, section }) => {\n      // console.log(el);\n      // const readDate = el.readDate;\n      // const src = el.src;\n      // const title = el.title;\n      // const url = el.url;\n      // const info = el.info;\n      // const published_date = el.published_date;\n      // const alt = el.alt;\n      // const section = el.section;\n      // console.log('Reading news date: ' + readDate);\n      if (readDate === accordionElDate) {\n        //   console.log(readDate === accordionElDate);\n        //   console.log(readDate);\n        //   console.log('Hooraay!!!');\n        const markup = `<li class=\"card-photo\">\n                <div class=\"image-wrapper\">\n          <img class=\"photo\" src=\"${src}\" alt=\"${alt}\" loading=\"lazy\" />\n          </div>\n              <div class=\"card-category\">${section}</div>\n              <button type=\"button\" class=\"favorite-button__activ\">Remove from favorite</button>\n              <h2 class=\"card-title\">${title}</h2>\n              <p class=\"card-info\">${info}</p>\n              <span class=\"card-date\">${published_date}</span>\n              <a href=\"${url}\" class=\"card-url\">Read more</a>\n              </li>`;\n        const contentEl = element.querySelector('.gallery__cards-list');\n        // console.log(contentEl);\n        contentEl.insertAdjacentHTML('beforeend', markup);\n      }\n    }\n  );\n});\n\nfor (let i = 0; i < accordion.length; i++) {\n  accordion[i].addEventListener('click', function () {\n    this.classList.toggle('active');\n  });\n}\n","export class FavoriteStorage {\n  constructor() {\n    this.KEY = 'FAVORITE_NEWS';\n  }\n\n  getNews() {\n    const news = localStorage.getItem(this.KEY);\n    if (news) {\n      return JSON.parse(news);\n    }\n    return [];\n  }\n\n  addNews(item) {\n    const arr = this.getNews();\n    if (this.hasNews(item)) {\n      return;\n    }\n    arr.push(item);\n    localStorage.setItem(this.KEY, JSON.stringify(arr));\n  }\n\n  hasNews(item) {\n    return this.getNews().some(({ url }) => url === item.url);\n  }\n\n  removeNews(item) {\n    const array = this.getNews();\n    array.forEach((news, index) => {\n      if (news.url === item.url) {\n        array.splice(index, 1);\n      }\n      return;\n    });\n    localStorage.setItem(this.KEY, JSON.stringify(array));\n  }\n}\n\nexport class ReadStorage {\n  constructor() {\n    this.KEY = 'READ_NEWS';\n  }\n\n  getNews() {\n    const news = localStorage.getItem(this.KEY);\n    if (news) {\n      return JSON.parse(news);\n    }\n    return [];\n  }\n\n  addNews(item) {\n    const arr = this.getNews();\n    if (this.hasNews(item)) {\n      return;\n    }\n    arr.push(item);\n    localStorage.setItem(this.KEY, JSON.stringify(arr));\n  }\n\n  hasNews(item) {\n    return this.getNews().some(({ url }) => url === item.url);\n  }\n}\n"],"names":["$d2dbcf7b383c1554$var$news","getNews","news","localStorage","getItem","this","KEY","JSON","parse","addNews","item","arr","hasNews","push","setItem","stringify","some","url","constructor","$d2dbcf7b383c1554$var$dates","Set","map","obj","readDate","document","querySelector","innerHTML","date","join","$d2dbcf7b383c1554$var$accordion","getElementsByClassName","$d2dbcf7b383c1554$var$labels","querySelectorAll","console","log","forEach","element","accordionElDate","innerText","src","title","info","published_date","alt","section","markup","insertAdjacentHTML","i","length","addEventListener","classList","toggle"],"version":3,"file":"read.6095d445.js.map"}